const body=document.querySelector("body"),burger=document.getElementById("burgerMenu"),closeBtn=document.getElementById("closeBtn"),getProducts=async()=>{let e=await fetch("products.json");return(await e.json()).products},display=(e,t)=>{let i=e.map((function({title:e,image:t,price:i}){return`<div class="filter-products__item">\n                  <div class="filter-products__top">\n                     <img src="/img/1x1.webp" data-src="${t}" class="lazy-load loading" alt="image">\n                  </div>\n                  <div class="filter-products__bottom">\n                     <h3>${e}</h3>\n                     <div class="filter-products__stars">\n                        <i class="fas fa-star"></i>\n                        <i class="fas fa-star"></i>\n                        <i class="fas fa-star"></i>\n                        <i class="fas fa-star"></i>\n                        <i class="far fa-star"></i>\n                     </div>\n                     <div class="filter-products__price">\n                        <h4>${i}</h4>\n                     </div>\n                  </div>\n            </div>`}));i=i.join(""),t.innerHTML=i},filterBtn=document.querySelectorAll(".filter-btn"),blockFiltering=document.querySelector(".filter-center"),allProducts=document.querySelector(".products-all"),latestProducts=document.querySelector(".products-latest"),recentViewProducts=document.querySelector(".products-recent-view");async function filtering(){const e=this.dataset.id;let t=await getProducts();filterBtn.forEach(e=>e.classList.remove("active")),this.classList.add("active");let i=t.filter(t=>t.category==e);blockFiltering.classList.add("animate__animated","animate__bounceInUp"),setTimeout((function(){blockFiltering.classList.remove("animate__animated","animate__bounceInUp")}),1e3),display(i,blockFiltering);const r=blockFiltering.childNodes;for(const e of r){e.children[0].style.background="none";let t=e.querySelector("img");t.src=t.dataset.src}}function filter(e,t){return t.filter(t=>t.category==e)}filterBtn.length>0&&filterBtn.forEach(e=>e.addEventListener("click",filtering)),window.addEventListener("DOMContentLoaded",(async function(){let e=await getProducts();if(allProducts&&display(e,allProducts),latestProducts){let t=filter("latest",e);display(t,latestProducts)}if(recentViewProducts){let t=filter("recent",e);display(t,recentViewProducts)}const t=document.documentElement.clientHeight,i=document.querySelectorAll(".lazy-load"),r=[];i.length>0&&i.forEach((function(e){const t=e.getBoundingClientRect().top+pageYOffset;r.push(t)})),window.addEventListener("scroll",(function(){document.querySelectorAll("img[data-src]").length>0&&function(e){let r=e.findIndex(e=>pageYOffset>e-t);r>=0&&(i[r].dataset.src&&(i[r].src=i[r].dataset.src,i[r].removeAttribute("data-src")),i[r].parentElement.style.background="none",delete e[r])}(r)}))})),gsap.registerPlugin(ScrollTrigger),gsap.from(".header__logo",{opacity:0,duration:1,delay:.1,y:-60}),gsap.from(".first-anim-link",{opacity:0,duration:1,delay:.2,y:-200}),gsap.from(".second-anim-link",{opacity:0,duration:1,delay:.3,y:-300}),gsap.from(".third-anim-link",{opacity:0,duration:1,delay:.4,y:-400}),gsap.from(".fourth-anim-link",{opacity:0,duration:1,delay:.5,y:-500}),gsap.from(".fifth-anim-link",{opacity:0,duration:1,delay:.6,y:-600}),gsap.from(".header__soc",{opacity:0,duration:2,delay:.1,y:-60}),gsap.from(".anim-left",{scrollTrigger:".anim-left",x:-200,y:200,duration:1,delay:.1}),gsap.from(".anim-center",{scrollTrigger:".anim-center",opacity:0,duration:2,delay:.5}),gsap.from(".anim-right",{scrollTrigger:".anim-right",x:200,y:200,duration:1,delay:.1}),gsap.from(".first-card",{scrollTrigger:".first-card",x:-200,duration:.5,delay:.1}),gsap.from(".second-card",{scrollTrigger:".second-card",y:-200,duration:.5,delay:.2}),gsap.from(".third-card",{scrollTrigger:".third-card",y:-200,duration:.5,delay:.3}),gsap.from(".fourth-card",{scrollTrigger:".fourth-card",y:200,duration:.5,delay:.4});const navLinks=document.querySelectorAll(".nav__link ");function navigation(e){e.preventDefault();const t=this.getAttribute("href").slice(1),i=document.getElementById(t).getBoundingClientRect().top+pageYOffset-document.querySelector(".header").offsetHeight;window.scrollTo({top:i,left:0})}function show(){this.parentElement.classList.toggle("_show"),body.classList.toggle("_lock")}function hide(e){e.preventDefault(),this.closest(".header__body").classList.remove("_show"),body.classList.remove("_lock")}navLinks.forEach(e=>e.addEventListener("click",navigation)),burger.addEventListener("click",show),closeBtn.addEventListener("click",hide);const swiperSlideHeight=document.querySelectorAll(".swiper-slide");swiperSlideHeight.forEach(e=>{e.style.height="auto",e.style.minHeight="100%"});const pageSlider=new Swiper(".swiper-container",{direction:"horizontal",speed:1e3,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),swiperSecond=new Swiper(".brands__slider",{direction:"horizontal",loop:!0,slidesPerView:5,spaceBetween:10,speed:800,autoplay:{delay:3e3},breakpoints:{320:{slidesPerView:2},576:{slidesPerView:2},767:{slidesPerView:3},991:{slidesPerView:5}}}),swiperThird=new Swiper(".slider-blog__container",{direction:"horizontal",loop:!0,slidesPerView:3,spaceBetween:40,speed:800,autoplay:{delay:3e3},breakpoints:{320:{slidesPerView:1},767:{slidesPerView:2,spaceBetween:20},991:{slidesPerView:3}}});